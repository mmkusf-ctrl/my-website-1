<script>
  // Load cart from localStorage
  let cart = JSON.parse(localStorage.getItem('cart')) || [];

  const cartContainer = document.getElementById('cart-items');
  const cartSummary = document.getElementById('cart-summary');

  function renderCart() {
    cartContainer.innerHTML = '';
    let totalItems = cart.length;
    let totalQuantity = 0;
    let totalSum = 0;

    cart.forEach(item => {
      totalQuantity += item.quantity;
      totalSum += item.quantity * item.price;

      const div = document.createElement('div');
      div.className = 'cart-item';
      div.innerHTML = `
        <p><strong>${item.name}</strong></p>
        <p>Quantity: ${item.quantity}</p>
        <p>Price: $${item.price}</p>
        <p>Subtotal: $${item.quantity * item.price}</p>
        <button class="btn remove-btn">Remove</button>
      `;

      // Remove item functionality
      div.querySelector('.remove-btn').addEventListener('click', () => {
        cart = cart.filter(cartItem => cartItem.name !== item.name);
        localStorage.setItem('cart', JSON.stringify(cart));
        renderCart();
      });

      cartContainer.appendChild(div);
    });

    cartSummary.innerHTML = `
      <h2>Cart Summary</h2>
      <p>Total Items: ${totalItems}</p>
      <p>Total Quantity: ${totalQuantity}</p>
      <p>Total Sum: $${totalSum}</p>
      <button class="btn clear-cart">Clear Cart</button>
    `;

    // Clear cart button
    cartSummary.querySelector('.clear-cart').addEventListener('click', () => {
      cart = [];
      localStorage.setItem('cart', JSON.stringify(cart));
      renderCart();
    });
  }

  renderCart();
</script>
